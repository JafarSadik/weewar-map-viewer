# Travis CI configured to build java 8 project using gradle.
# https://travis-ci.org/
language: java

dist: trusty
sudo: required

jdk:
  - oraclejdk8

before_install:
  - chmod +x gradlew

install: []

script: ./gradlew build

deploy:
  provider: heroku
  app: weemaps
  api_key:
    secure: "qdcFkm5Wskyj/oDyDWcyWVjTdWP43Af/QxPmGeDGLj4kTJwUFqFPkmDaW6+s2QmL4oi1vhUQFOvdmWwMl4Jw4HL5egCsYTUMTdQ2yHrAZup2X5pswjP5Ne3CYJNaC9UJnV3ue683JRXj0/0/rHXU60oHaPcdl2IR/TDUm148KihQg+v0oPxNhCalIIg2r/pDnba+CntSC8oDubHRIc2aBnOlfjl3+XlrKYgZveSmUzPOeJIgIJS7b/J5CPnv1vNx8xAsRV6NXLQocPYOudIiV2wX1UeQXYaYVIJ60/Ba5hoG8cI/tnmIhb/L6nx8fwgVu6LMLRIm7H3lJSHzGr/DK7wePQ+RaP3lg7+nzibobH8nh+FPpC96ECWGxFTN8T8G+Pa8aiCXMAuhYWw+XVcV+FH72TsQuIHtXlLFNROMPsDHYbdnlAn3mCGcWi/2MGdjL5IiQhuA328J7qMD/jcPUGYtfaQ3XvdD8khnJ/KLQRlshlLk4NLNcW/JiydFruFayF3OKwhgaW7dDbYlfOHlTahyDddz3jwdg0FMfc+IJvU2gYLjvl3+Ck1VxPvO6CziI3t09Sono3/GMlQKVfLzdICcNPcpfOvvshjw1qOHypVdIOnUch+TPoleF9gb2W2+y9uqKRUKOcmQdCT9m6iPxRD1mmAPdXHmrSn/rHqVrsw="
  on:
    branch: master

before_cache:
  - rm -f  ~/.gradle/caches/modules-2/modules-2.lock
  - rm -fr ~/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - ~/.gradle/caches/
    - ~/.gradle/wrapper/

notifications:
  email:
    recipients:
      - dzafar.sadik@gmail.com
    on_success: change
    on_failure: always
